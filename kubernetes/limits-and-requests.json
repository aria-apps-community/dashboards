{
  "name": "Kubernetes Limits and Requests Compliance (dbr)",
  "url": "Kubernetes-Limits-and-Requests-Compliance-dbr",
  "eventFilterType": "NONE",
  "displayDescription": false,
  "displaySectionTableOfContents": true,
  "displayQueryParameters": true,
  "sections": [
    {
      "name": "KPI",
      "id": "SectionFromEditor166435935277001666915577846262",
      "rows": [
        {
          "charts": [
            {
              "chartSettings": {
                "type": "markdown-widget",
                "autoColumnTags": false,
                "plainMarkdownContent": "## Requests and Limits Key Indicators\n\nNumbers of pods without Request and Limits set up. [Read More about Requests and Limits](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/)",
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "includeObsoleteMetrics": false,
              "name": "Info",
              "units": "Units",
              "base": 0,
              "chartAttributes": {
                "dashboardLayout": {
                  "x": 0,
                  "y": 0,
                  "w": 12,
                  "h": 3
                }
              },
              "sources": [
                {
                  "name": "A",
                  "query": "",
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": true,
                  "querybuilderSerialization": "{\"_v\":1,\"metric\":\"\",\"filters\":[[],\"and\"],\"functions\":[]}",
                  "sourceDescription": "",
                  "scatterPlotSource": "Y"
                }
              ],
              "noDefaultEvents": false
            }
          ],
          "heightFactor": 50
        },
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "plainMarkdownContent": "<clr-icon shape=\"cpu\"></clr-icon> CPU Indicators",
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "lineType": "linear",
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "fixedLegendShowMetricName": false,
                "type": "markdown-widget",
                "y1UnitAutoscaling": false,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Info",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "dashboardLayout": {
                  "x": 0,
                  "y": 3,
                  "w": 6,
                  "h": 2
                }
              },
              "sources": [
                {
                  "name": "A",
                  "query": "",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": true,
                  "querybuilderSerialization": "{\"_v\":1,\"filters\":[[],\"and\"],\"functions\":[],\"metric\":\"ts()\"}"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "plainMarkdownContent": "<clr-icon shape=\"memory\"></clr-icon> Memory Indicators",
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "lineType": "linear",
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "fixedLegendShowMetricName": false,
                "type": "markdown-widget",
                "y1UnitAutoscaling": false,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Info",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "dashboardLayout": {
                  "x": 6,
                  "y": 3,
                  "w": 6,
                  "h": 2
                }
              },
              "sources": [
                {
                  "name": "A",
                  "query": "",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": true,
                  "querybuilderSerialization": "{\"_v\":1,\"filters\":[[],\"and\"],\"functions\":[],\"metric\":\"ts()\"}"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 30
        },
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "sparkline",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Pods without CPU Request",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without CPU Request"
                },
                "dashboardLayout": {
                  "x": 0,
                  "y": 5,
                  "w": 3,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.requests.cpu.cores.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace), pod=ts1.pod, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Count",
                  "query": "rawcount(align(1m, ${C}))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "sparkline",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Pods without CPU Limits",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without CPU Limits"
                },
                "dashboardLayout": {
                  "x": 3,
                  "y": 5,
                  "w": 3,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.limits.cpu.cores.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace), pod=ts1.pod, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Count",
                  "query": "rawcount(align(1m, ${C}))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "sparkline",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Pods without CPU Request",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without Mem Request"
                },
                "dashboardLayout": {
                  "x": 6,
                  "y": 5,
                  "w": 3,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.requests.memory.bytes.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace), pod=ts1.pod, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Count",
                  "query": "rawcount(align(1m, ${C}))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "sparkline",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Pods without CPU Request",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without Mem Limits"
                },
                "dashboardLayout": {
                  "x": 9,
                  "y": 5,
                  "w": 3,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.limits.memory.bytes.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace), pod=ts1.pod, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Count",
                  "query": "rawcount(align(1m, ${C}))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 100
        }
      ]
    },
    {
      "name": "Section 1",
      "id": "Kubernetes-Limits-and-Requests-Compliance-dbr-section-1",
      "rows": [
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "plainMarkdownContent": "<clr-icon shape=\"cpu\"></clr-icon> CPU vs Real Usage",
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "lineType": "linear",
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "fixedLegendShowMetricName": false,
                "type": "markdown-widget",
                "y1UnitAutoscaling": false,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Info",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "dashboardLayout": {
                  "x": 0,
                  "y": 0,
                  "w": 6,
                  "h": 2
                }
              },
              "sources": [
                {
                  "name": "A",
                  "query": "",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": true,
                  "querybuilderSerialization": "{\"_v\":1,\"filters\":[[],\"and\"],\"functions\":[],\"metric\":\"ts()\"}"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "plainMarkdownContent": "<clr-icon shape=\"memory\"></clr-icon> Memory vs Real Usage",
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "lineType": "linear",
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "fixedLegendShowMetricName": false,
                "type": "markdown-widget",
                "y1UnitAutoscaling": false,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Info",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "dashboardLayout": {
                  "x": 6,
                  "y": 0,
                  "w": 6,
                  "h": 2
                }
              },
              "sources": [
                {
                  "name": "A",
                  "query": "",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": true,
                  "querybuilderSerialization": "{\"_v\":1,\"filters\":[[],\"and\"],\"functions\":[],\"metric\":\"ts()\"}"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 30
        },
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "stackType": "zero",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "groupBySource": false,
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "type": "line",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": true,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Request vs Real Usage",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "decimalPrecision": 0,
                "lineFill": 1,
                "colorMap": {
                  "colors": [
                    "#e02200",
                    "#a36500"
                  ],
                  "values": [
                    10
                  ]
                },
                "dashboardLayout": {
                  "x": 0,
                  "y": 2,
                  "w": 3,
                  "h": 6
                }
              },
              "sources": [
                {
                  "name": "Usage",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.cpu.usage_rate\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Request",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.cpu.request\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": "",
                  "sourceColor": "rgba(145,8,5,1)"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "stackType": "zero",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "groupBySource": false,
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "type": "line",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": true,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Limit vs Real Usage",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "decimalPrecision": 0,
                "lineFill": 1,
                "colorMap": {
                  "colors": [
                    "#e02200",
                    "#a36500"
                  ],
                  "values": [
                    10
                  ]
                },
                "dashboardLayout": {
                  "x": 3,
                  "y": 2,
                  "w": 3,
                  "h": 6
                }
              },
              "sources": [
                {
                  "name": "Usage",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.cpu.usage_rate\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Limit",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.cpu.limit\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "stackType": "zero",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "groupBySource": false,
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "type": "line",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": true,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Request vs Real Usage",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "decimalPrecision": 0,
                "lineFill": 1,
                "colorMap": {
                  "colors": [
                    "#e02200",
                    "#a36500"
                  ],
                  "values": [
                    10
                  ]
                },
                "dashboardLayout": {
                  "x": 6,
                  "y": 2,
                  "w": 3,
                  "h": 6
                }
              },
              "sources": [
                {
                  "name": "Usage",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.memory.usage\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Request",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.memory.request\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": "",
                  "sourceColor": "rgba(145,8,5,1)"
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            },
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "stackType": "zero",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "groupBySource": false,
                "windowing": "full",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "type": "line",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": true,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Limit vs Real Usage",
              "anomalySampleSize": "8",
              "units": "Units",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "decimalPrecision": 0,
                "lineFill": 1,
                "colorMap": {
                  "colors": [
                    "#e02200",
                    "#a36500"
                  ],
                  "values": [
                    10
                  ]
                },
                "dashboardLayout": {
                  "x": 9,
                  "y": 2,
                  "w": 3,
                  "h": 6
                }
              },
              "sources": [
                {
                  "name": "Usage",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.memory.usage\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                },
                {
                  "name": "Limit",
                  "query": "rawsum(last(5m, ts(\"kubernetes.ns.memory.limit\", cluster=${cluster_name} and namespace_name=${namespace})))",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false,
                  "sourceDescription": ""
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 120
        }
      ]
    },
    {
      "name": "Controller List",
      "id": "FcLho",
      "rows": [
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "table",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Controller without CPU Request",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without CPU Request"
                },
                "dashboardLayout": {
                  "x": 0,
                  "y": 0,
                  "w": 12,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.requests.cpu.cores.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace, cluster), pod=ts1.pod, namespace=ts1.namespace, cluster=ts1.cluster, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "D",
                  "query": "ts(\"kube.pod.owner.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "E",
                  "query": "join(\n  ${C} AS ts1 INNER JOIN ${D} AS ts2 USING(pod, namespace, cluster),\n  owner_kind=ts2.owner_kind, owner_name=ts2.owner_name, pod_name=ts2.pod, namespace=ts2.namespace, cluster=ts2.cluster,\n  ts2\n  )",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 100
        },
        {
          "charts": [
            {
              "anomalySeverity": "medium",
              "anomalyDetectionOn": false,
              "chartSettings": {
                "y1ScaleSIBy1024": false,
                "fixedLegendEnabled": false,
                "fixedLegendFilterField": "CURRENT",
                "y0ScaleSIBy1024": false,
                "sparklineDisplayFontSize": "100",
                "fixedLegendFilterLimit": 5,
                "fixedLegendShowSourceName": true,
                "showValueColumn": true,
                "fixedLegendPosition": "RIGHT",
                "customTags": [],
                "showRawValues": false,
                "lineType": "linear",
                "showHosts": true,
                "sparklineValueColorMapApplyTo": "TEXT",
                "groupBySource": false,
                "windowing": "full",
                "sparklineSize": "BACKGROUND",
                "fixedLegendFilterSort": "TOP",
                "y1Units": "",
                "sortValuesDescending": true,
                "fixedLegendShowMetricName": false,
                "sparklineDisplayValueType": "VALUE",
                "type": "table",
                "y1UnitAutoscaling": false,
                "showLabels": true,
                "sparklineValueTextMapText": [
                  "new highest"
                ],
                "tagMode": "all",
                "fixedLegendUseRawStats": false,
                "y0UnitAutoscaling": false,
                "fixedLegendDisplayStats": [
                  "CURRENT"
                ],
                "sparklineDisplayHorizontalPosition": "MIDDLE",
                "sparklineDecimalPrecision": 0,
                "autoColumnTags": false,
                "numTags": 4,
                "defaultSortColumn": null,
                "sparklineDisplayColor": null,
                "sparklineLineColor": null,
                "sparklineFillColor": null
              },
              "displayConfidenceBounds": false,
              "includeObsoleteMetrics": false,
              "filterOutNonAnomalies": false,
              "name": "Controller without Mem Request",
              "anomalySampleSize": "8",
              "units": "",
              "summarization": "MEAN",
              "base": 0,
              "chartAttributes": {
                "lineFill": 1,
                "singleStat": {
                  "sparklineDisplayLabel": "Count",
                  "sparklineDisplaySubLabel": "Pods without CPU Request"
                },
                "dashboardLayout": {
                  "x": 0,
                  "y": 5,
                  "w": 12,
                  "h": 5
                },
                "y0ScaleDecimal": false
              },
              "sources": [
                {
                  "name": "A",
                  "query": "ts(\"kube.pod.status.phase.gauge\", phase=\"Running\" and cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "B",
                  "query": "ts(\"kube.pod.container.resource.requests.memory.bytes.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "C",
                  "query": "removeSeries(\njoin( ${A} AS ts1 LEFT JOIN ${B} AS ts2 USING(pod, namespace, cluster), pod=ts1.pod, namespace=ts1.namespace, cluster=ts1.cluster, filter-id=ts2.pod, ts1),\n  filter-id=\"*\"\n)",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "D",
                  "query": "ts(\"kube.pod.owner.gauge\", cluster=${cluster_name} and namespace=${namespace})",
                  "disabled": true,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                },
                {
                  "name": "E",
                  "query": "join(\n  ${C} AS ts1 INNER JOIN ${D} AS ts2 USING(pod, namespace, cluster),\n  owner_kind=ts2.owner_kind, owner_name=ts2.owner_name, pod_name=ts2.pod, namespace=ts2.namespace, cluster=ts2.cluster,\n  ts2\n  )",
                  "disabled": false,
                  "secondaryAxis": false,
                  "queryType": "WQL",
                  "querybuilderEnabled": false
                }
              ],
              "noDefaultEvents": false,
              "anomalyType": "both"
            }
          ],
          "heightFactor": 100
        }
      ]
    }
  ],
  "parameterDetails": {
    "namespace": {
      "tagsBlackListRegex": "",
      "parameterType": "DYNAMIC",
      "tagKey": "namespace_name",
      "queryValue": "limit(1000, ts(\"kubernetes.ns.memory.usage\", cluster=\"${cluster_name}\"))",
      "order": 2,
      "defaultValue": "Label",
      "hideFromView": false,
      "value": "*",
      "label": "namespace",
      "dynamicFieldType": "TAG_KEY",
      "valuesToReadableStrings": {
        "Label_2": "argocd",
        "Label_3": "default",
        "Label_4": "kube-system",
        "Label_20": "rabbitmq-system",
        "Label_5": "madapi-beats",
        "Label_10": "madapi-mongodb",
        "Label_21": "troubleshooting",
        "Label_6": "madapi-dev",
        "Label_11": "madapi-preprod",
        "Label_22": "vault",
        "Label_7": "madapi-elastic",
        "Label_12": "madapi-system",
        "Label_23": "velero",
        "Label_8": "madapi-elastic-operator",
        "Label_13": "monitoring",
        "Label_24": "wavefront",
        "Label_9": "madapi-infra",
        "Label_14": "nginx-ingress",
        "Label_15": "nginx-ingress-internal",
        "Label_16": "nginx-testing",
        "Label_17": "opentelemetry-system",
        "Label_18": "opentelemetry-testing",
        "Label_19": "pks-system",
        "Label": "*"
      },
      "allowAll": true,
      "selectedLabel": "Label"
    },
    "cluster_name": {
      "tagsBlackListRegex": "",
      "parameterType": "DYNAMIC",
      "tagKey": "cluster",
      "queryValue": "max(ts(\"kubernetes.cluster.cpu.limit\"), cluster)",
      "order": 1,
      "defaultValue": "Label",
      "hideFromView": false,
      "value": "*",
      "label": "cluster_name",
      "dynamicFieldType": "TAG_KEY",
      "valuesToReadableStrings": {
        "Label": "*",
        "Label_2": "dev",
        "Label_3": "infra",
        "Label_4": "preprod",
        "Label_5": "sandbox-infra"
      },
      "allowAll": true,
      "selectedLabel": "Label"
    }
  }
}
